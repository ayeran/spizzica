= form_for @order do |f|
  - if @order.errors.any?
    #error_explanation
      %h2= "#{pluralize(@order.errors.count, "error")} prohibited this order from being saved:"
      %ul
        - @order.errors.full_messages.each do |msg|
          %li= msg

  .field
    = f.label "Nome"
    = f.text_field :name
  .field
    = f.label "Email"
    = f.text_field :email
  .field
    = f.label "Indirizzo"
    = f.text_area :addr
  .field
    = f.label "Telefono"
    = f.text_field :telephone
  .field
    = f.label :time
    = select_tag :timeY, options_for_select((@order.starttime.year)..(@order.endtime.year))
    = select_tag :timeM, options_for_select(@order.monthspan)
    = select_tag :timeD, options_for_select(@order.dayspan)
    = select_tag :timeH, options_for_select(@order.hourspan)
    = select_tag :timeMim, options_for_select(@order.minspan)
  .field
    = f.label :beer
    - Beer.order("lower(name) ASC").all.each{|c|
    = link_to c.name, c
    = sprintf("%02.2f €", c.price)
    - if FileTest.exist?(c.imagebeer.path(:small).to_s)
      = image_tag c.imagebeer.url(:small)

    = select_tag("item[#{c.item.id}]", options_for_select((0..10)))
    -}
  .field
    = f.label :sandwich
    - Sandwich.order("lower(name) ASC").all.each{|c|
    = link_to c.name, c
    = sprintf("%02.2f €", c.price)
    = select_tag("item[#{c.item.id}]", options_for_select((0..10)))
    -}

  .field
    = f.label :info
    = f.text_area :info
  .actions
    = f.submit 'Salva'
